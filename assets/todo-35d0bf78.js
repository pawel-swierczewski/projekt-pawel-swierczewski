import{f as l,r as T,o as n,c as i,a as e,b,t as c,d as h,w as k,g as p,v as g,h as C,F as f,i as m,j as y,k as E,p as w,e as O}from"./index-8fdca97b.js";import{_ as I,L as S,a as V}from"./logo-f11ced57.js";const $={components:{LanguageChanger:S},name:"TaskList",data(){return{currentInputTaskContent:"",errorContent:"",taskList:[],TransferListElement:{contents:"",done:""},TaskCreator:{contents:""}}},methods:{startEdit:function(t){this.currentInputTaskContent=t.contents,t.isEditing=!0,this.$nextTick(()=>{const o=document.querySelector('input[name="InputTask"]');o&&o.focus()})},stopEdit:function(t){if(t.isEditing=!1,t.contents===""||t.contents===this.currentInputTaskContent)t.contents=this.currentInputTaskContent;else{const o=this.taskList.filter(a=>a.id===t.id);this.updateTask(Object.assign(this.TransferListElement,o[0]))}},addTask:function(t){l.post("https://swierczewski-todolist-api.onrender.com/todoList",t).then(o=>{o.status===200&&this.getTasks()})},updateTask:function(t){l.put(`https://swierczewski-todolist-api.onrender.com/todoList/${t.id}`,t).then(o=>{o.status===200&&this.getTasks()})},addTaskToList:function(){this.TaskCreator.contents=this.TaskCreator.contents.trim(),this.TaskCreator.contents!==""?(this.errorContent="",this.addTask(this.TaskCreator),this.TaskCreator.contents=""):this.errorContent="tasklist.error"},deleteTask:function(t){l.delete(`https://swierczewski-todolist-api.onrender.com/todoList/${t}`).then(o=>{o.status===200&&this.getTasks()})},doneStatusChanger:function(t){this.taskList=this.taskList.map(a=>a.id!==t?{...a}:{...a,done:!a.done});const o=this.taskList.filter(a=>a.id===t);this.updateTask(Object.assign(this.TransferListElement,o[0]))},getTasks:function(){l.get("https://swierczewski-todolist-api.onrender.com/todoList").then(t=>{if(t.status===200){let o=t.data;this.taskList=o.map(a=>({...a,isEditing:!1}))}})}},mounted(){this.getTasks()},setup(){return{}}},L=t=>(w("data-v-e7043e63"),t=t(),O(),t),D={class:"navbar-brand",style:{cursor:"auto"}},x={class:"logo"},M=L(()=>e("img",{src:V},null,-1)),z={class:"menu"},B={class:"navbar-brand"},U={class:"navbar-brand"},H={class:"navbar-brand"},N={class:"row"},j={class:"col-12",id:"content"},F={id:"root"},K=["innerHTML"],P={class:"form"},q=["placeholder"],A=["innerHTML"],G=["id"],J=["onUpdate:modelValue","onClick"],Q={key:1},R={key:0},W={key:1},X=["onUpdate:modelValue","onBlur","onKeyup"],Y={class:"buttons"},Z=["onClick"],tt=["onClick"],st=["onClick"],et=["onClick"],ot=L(()=>e("footer",null,[e("h3",null,"Paweł Świerczewski - 2023")],-1));function nt(t,o,a,it,u,d){const v=T("LanguageChanger"),_=T("router-link");return n(),i(f,null,[e("header",null,[e("a",D,[e("div",x,[M,e("p",null,[b(c(t.$t("message.languageSwitcherText"))+" ",1),h(v)])])])]),e("nav",z,[e("ul",null,[h(_,{to:"/",style:{cursor:"auto"}},{default:k(()=>[e("li",B,c(t.$t("message.buttonFirst")),1)]),_:1}),h(_,{to:"/aboutme",style:{cursor:"auto"}},{default:k(()=>[e("li",U,c(t.$t("message.buttonSecond")),1)]),_:1}),h(_,{to:"/todo",style:{cursor:"auto"}},{default:k(()=>[e("li",H,c(t.$t("message.buttonTODO")),1)]),_:1})])]),e("div",N,[e("article",j,[e("div",F,[e("h1",{innerHTML:t.$t("message.TODOTitle")},null,8,K),e("div",P,[p(e("input",{type:"text",placeholder:t.$t("message.TODOinputPlaceholder"),"onUpdate:modelValue":o[0]||(o[0]=s=>u.TaskCreator.contents=s)},null,8,q),[[g,u.TaskCreator.contents]]),e("button",{onClick:o[1]||(o[1]=(...s)=>d.addTaskToList&&d.addTaskToList(...s))},c(t.$t("message.TODOadd")),1)]),u.errorContent?(n(),i("div",{key:0,class:"error",innerHTML:t.$t("message.TODOerror")},null,8,A)):C("",!0),e("ul",null,[(n(!0),i(f,null,m(u.taskList,s=>(n(),i("li",{id:s.id,class:"LiTask"},[s.isEditing?C("",!0):p((n(),i("input",{key:0,type:"checkbox","onUpdate:modelValue":r=>s.done=r,onClick:r=>d.doneStatusChanger(s.id)},null,8,J)),[[y,s.done]]),s.isEditing?p((n(),i("input",{key:2,name:"InputTask",type:"text","onUpdate:modelValue":r=>s.contents=r,onBlur:r=>d.stopEdit(s),onKeyup:E(r=>d.stopEdit(s),["enter"])},null,40,X)),[[g,s.contents]]):(n(),i("span",Q,[s.done?(n(),i("p",R,[e("s",null,c(s.contents),1)])):(n(),i("p",W,c(s.contents),1))])),e("div",Y,[s.isEditing?(n(),i("button",{key:1,onClick:r=>d.stopEdit(s)},"✔",8,tt)):(n(),i("button",{key:0,onClick:r=>d.startEdit(s)},"✎",8,Z)),s.isEditing?(n(),i("button",{key:3,onClick:r=>d.stopEdit(s)},"✖",8,et)):(n(),i("button",{key:2,onClick:r=>d.deleteTask(s.id)},"✖",8,st))])],8,G))),256))])])])]),ot],64)}const dt=I($,[["render",nt],["__scopeId","data-v-e7043e63"]]);export{dt as default};
